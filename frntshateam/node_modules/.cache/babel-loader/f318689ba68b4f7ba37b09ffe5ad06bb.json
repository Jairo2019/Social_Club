{"ast":null,"code":"import Axios from 'axios';\nvar TOKEN_KEY = 'CLONTAGRAM_TOKEN';\nexport function setToken(token) {\n  localStorage.setItem(TOKEN_KEY, token);\n}\nexport function getToken() {\n  return localStorage.getItem(TOKEN_KEY);\n}\nexport function deleteToken() {\n  localStorage.removeItem(TOKEN_KEY);\n}\nexport function initAxiosInterceptors() {\n  Axios.interceptors.request.use(function (config) {\n    var token = getToken();\n\n    if (token) {\n      config.headers.Authorization = \"bearer \".concat(token);\n    }\n\n    return config;\n  });\n  Axios.interceptors.response.use(function (response) {\n    return response;\n  }, function (err) {\n    if (err.response.status === 401) {\n      deleteToken();\n      window.location = '/login';\n    } else {\n      return Promise.reject(err);\n    }\n  });\n}","map":{"version":3,"sources":["D:/ShaTeam/frntShateam/src/Components/actions/auth-helpers.js"],"names":["Axios","TOKEN_KEY","setToken","token","localStorage","setItem","getToken","getItem","deleteToken","removeItem","initAxiosInterceptors","interceptors","request","use","config","headers","Authorization","response","err","status","window","location","Promise","reject"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,SAAS,GAAG,kBAAlB;AAEA,OAAO,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAC5BC,EAAAA,YAAY,CAACC,OAAb,CAAqBJ,SAArB,EAAgCE,KAAhC;AACH;AAED,OAAO,SAASG,QAAT,GAAoB;AACvB,SAAOF,YAAY,CAACG,OAAb,CAAqBN,SAArB,CAAP;AACH;AAED,OAAO,SAASO,WAAT,GAAuB;AAC1BJ,EAAAA,YAAY,CAACK,UAAb,CAAwBR,SAAxB;AACH;AAED,OAAO,SAASS,qBAAT,GAAiC;AACpCV,EAAAA,KAAK,CAACW,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAASC,MAAT,EAAiB;AAC5C,QAAMX,KAAK,GAAGG,QAAQ,EAAtB;;AAEA,QAAGH,KAAH,EAAU;AACNW,MAAAA,MAAM,CAACC,OAAP,CAAeC,aAAf,oBAAyCb,KAAzC;AACH;;AACD,WAAOW,MAAP;AACH,GAPD;AASAd,EAAAA,KAAK,CAACW,YAAN,CAAmBM,QAAnB,CAA4BJ,GAA5B,CACI,UAASI,QAAT,EAAmB;AACf,WAAOA,QAAP;AACH,GAHL,EAII,UAASC,GAAT,EAAc;AACV,QAAGA,GAAG,CAACD,QAAJ,CAAaE,MAAb,KAAwB,GAA3B,EAAgC;AAC5BX,MAAAA,WAAW;AACXY,MAAAA,MAAM,CAACC,QAAP,GAAkB,QAAlB;AACH,KAHD,MAGO;AACH,aAAOC,OAAO,CAACC,MAAR,CAAeL,GAAf,CAAP;AACH;AACJ,GAXL;AAaH","sourcesContent":["import Axios from 'axios'\r\n\r\nconst TOKEN_KEY = 'CLONTAGRAM_TOKEN';\r\n\r\nexport function setToken(token) {\r\n    localStorage.setItem(TOKEN_KEY, token);\r\n}\r\n\r\nexport function getToken() {\r\n    return localStorage.getItem(TOKEN_KEY);\r\n}\r\n\r\nexport function deleteToken() {\r\n    localStorage.removeItem(TOKEN_KEY);\r\n}\r\n\r\nexport function initAxiosInterceptors() {\r\n    Axios.interceptors.request.use(function(config) {\r\n        const token = getToken();\r\n\r\n        if(token) {\r\n            config.headers.Authorization = `bearer ${token}`;\r\n        }\r\n        return config;\r\n    });\r\n\r\n    Axios.interceptors.response.use(\r\n        function(response) {\r\n            return response\r\n        },\r\n        function(err) {\r\n            if(err.response.status === 401) {\r\n                deleteToken();\r\n                window.location = '/login'\r\n            } else {\r\n                return Promise.reject(err)\r\n            }\r\n        }\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}