{"ast":null,"code":"import _toConsumableArray from \"C:\\\\SW202002\\\\ShaTeam_v1\\\\Social_Club\\\\frntShateam\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"C:\\\\SW202002\\\\ShaTeam_v1\\\\Social_Club\\\\frntShateam\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _objectSpread from \"C:\\\\SW202002\\\\ShaTeam_v1\\\\Social_Club\\\\frntShateam\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"C:\\\\SW202002\\\\ShaTeam_v1\\\\Social_Club\\\\frntShateam\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport Axios from \"axios\";\nexport function toggleLike(_x) {\n  return _toggleLike.apply(this, arguments);\n}\n\nfunction _toggleLike() {\n  _toggleLike = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(post) {\n    var url, postConLikeActualizado;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            url = \"/api/posts/\".concat(post._id, \"/likes\");\n\n            if (!post.estaLike) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 4;\n            return Axios.delete(url, {});\n\n          case 4:\n            postConLikeActualizado = _objectSpread({}, post, {\n              estaLike: false,\n              numLikes: post.numLikes - 1\n            });\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.next = 9;\n            return Axios.post(url, {});\n\n          case 9:\n            postConLikeActualizado = _objectSpread({}, post, {\n              estaLike: true,\n              numLikes: post.numLikes + 1\n            });\n\n          case 10:\n            return _context.abrupt(\"return\", postConLikeActualizado);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _toggleLike.apply(this, arguments);\n}\n\nexport function comentar(_x2, _x3, _x4) {\n  return _comentar.apply(this, arguments);\n}\n\nfunction _comentar() {\n  _comentar = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(post, mensaje, usuario) {\n    var _yield$Axios$post, nuevoComentario, postConComentariosActualizados;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return Axios.post(\"/api/posts/\".concat(post._id, \"/comentarios\"), {\n              mensaje: mensaje\n            });\n\n          case 2:\n            _yield$Axios$post = _context2.sent;\n            nuevoComentario = _yield$Axios$post.data;\n            nuevoComentario.usuario = usuario;\n            postConComentariosActualizados = _objectSpread({}, post, {\n              comentarios: [].concat(_toConsumableArray(post.comentarios), [nuevoComentario]),\n              numComentarios: post.numComentarios + 1\n            });\n            return _context2.abrupt(\"return\", postConComentariosActualizados);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _comentar.apply(this, arguments);\n}","map":{"version":3,"sources":["C:/SW202002/ShaTeam_v1/Social_Club/frntShateam/src/Components/actions/post-helpers.js"],"names":["Axios","toggleLike","post","url","_id","estaLike","delete","postConLikeActualizado","numLikes","comentar","mensaje","usuario","nuevoComentario","data","postConComentariosActualizados","comentarios","numComentarios"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,gBAAsBC,UAAtB;AAAA;AAAA;;;yEAAO,iBAA0BC,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AACCC,YAAAA,GADD,wBACqBD,IAAI,CAACE,GAD1B;;AAAA,iBAIDF,IAAI,CAACG,QAJJ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAKGL,KAAK,CAACM,MAAN,CAAaH,GAAb,EAAkB,EAAlB,CALH;;AAAA;AAMHI,YAAAA,sBAAsB,qBACjBL,IADiB;AAEpBG,cAAAA,QAAQ,EAAE,KAFU;AAGpBG,cAAAA,QAAQ,EAAEN,IAAI,CAACM,QAAL,GAAgB;AAHN,cAAtB;AANG;AAAA;;AAAA;AAAA;AAAA,mBAYGR,KAAK,CAACE,IAAN,CAAWC,GAAX,EAAgB,EAAhB,CAZH;;AAAA;AAaHI,YAAAA,sBAAsB,qBACjBL,IADiB;AAEpBG,cAAAA,QAAQ,EAAE,IAFU;AAGpBG,cAAAA,QAAQ,EAAEN,IAAI,CAACM,QAAL,GAAgB;AAHN,cAAtB;;AAbG;AAAA,6CAoBED,sBApBF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAuBP,gBAAsBE,QAAtB;AAAA;AAAA;;;uEAAO,kBAAwBP,IAAxB,EAA8BQ,OAA9B,EAAuCC,OAAvC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAGKX,KAAK,CAACE,IAAN,sBAAyBA,IAAI,CAACE,GAA9B,mBAAiD;AAAEM,cAAAA,OAAO,EAAPA;AAAF,aAAjD,CAHL;;AAAA;AAAA;AAEGE,YAAAA,eAFH,qBAEHC,IAFG;AAKLD,YAAAA,eAAe,CAACD,OAAhB,GAA0BA,OAA1B;AAEMG,YAAAA,8BAPD,qBAQEZ,IARF;AASDa,cAAAA,WAAW,+BAAMb,IAAI,CAACa,WAAX,IAAwBH,eAAxB,EATV;AAUDI,cAAAA,cAAc,EAAEd,IAAI,CAACc,cAAL,GAAsB;AAVrC;AAAA,8CAaEF,8BAbF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import Axios from \"axios\";\r\n\r\nexport async function toggleLike(post) {\r\n  const url = `/api/posts/${post._id}/likes`;\r\n  let postConLikeActualizado;\r\n\r\n  if (post.estaLike) {\r\n    await Axios.delete(url, {});\r\n    postConLikeActualizado = {\r\n      ...post,\r\n      estaLike: false,\r\n      numLikes: post.numLikes - 1,\r\n    };\r\n  } else {\r\n    await Axios.post(url, {});\r\n    postConLikeActualizado = {\r\n      ...post,\r\n      estaLike: true,\r\n      numLikes: post.numLikes + 1,\r\n    };\r\n  }\r\n\r\n  return postConLikeActualizado;\r\n}\r\n\r\nexport async function comentar(post, mensaje, usuario) {\r\n  const {\r\n    data: nuevoComentario,\r\n  } = await Axios.post(`/api/posts/${post._id}/comentarios`, { mensaje });\r\n\r\n  nuevoComentario.usuario = usuario;\r\n\r\n  const postConComentariosActualizados = {\r\n      ...post,\r\n      comentarios: [...post.comentarios, nuevoComentario],\r\n      numComentarios: post.numComentarios + 1\r\n  }\r\n\r\n  return postConComentariosActualizados;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}